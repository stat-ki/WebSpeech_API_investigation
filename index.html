<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Web Speech API</title>
        <script>
            window.SpeechRecognition = window.SpeechRecognition || webkitSpeechRecognition;
            var recognition = new webkitSpeechRecognition();
            recognition.lang = 'ja';
            recognition.continuous = true;
            recognition.onresult = function(event){
                var results = event.results;
                for (var i = event.resultIndex; i<results.length; i++)
                    // document.getElementById('result_text').innerHTML = results[i][0].transcript;
                    var newDiv = document.createElement("div"); 
                    var newContent = document.createTextNode(results[i][0].transcript); 
                    newDiv.appendChild(newContent);
                    var currentDiv = document.getElementById("result_text"); 
                    document.body.insertBefore(newDiv, currentDiv);
            }
        </script> 
    </head>
    <body>
        <textarea id="result_text" cols="100" rows="10"></textarea><br>
        <input type="button" onClick="recognition.start();" value="音認開始">
    </body>
</html>